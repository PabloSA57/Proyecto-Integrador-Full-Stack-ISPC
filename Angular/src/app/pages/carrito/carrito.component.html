<main class="container">
  <section class="container-carrito m-3 p-5 shadow">
    <h5>Carrito</h5>

    <div *ngIf="products.length > 0">
      <app-card-product
        [product]="product"
        *ngFor="let product of products"
      ></app-card-product>
    </div>

    <div
      *ngIf="products.length === 0"
      class="d-flex flex-column gap-2 text-center align-items-center justify-content-center"
      style="min-height: 300px"
    >
      <h5>Tu carrito esta vac√≠o</h5>
      <button class="btn btn-primary" routerLink="/productos">Ver productos</button>
    </div>

    <div
      class="d-flex flex-column gap-4 w-100 mt-4"
      *ngIf="products.length > 0"
    >
      <div class="d-flex w-100 align-content-end gap-3">
        <h4>Total</h4>
        <h4>${{ total_precio }}</h4>
      </div>
      <button class="w-100 btn btn-primary" (click)="preferenceMP()">
        <div
          *ngIf="status === 'loading'"
          class="spinner-border"
          role="status"
          style="height: 20px; width: 20px"
        >
          <span class="visually-hidden">Loading...</span>
        </div>
        Pagar con Mercado Pago
      </button>
    </div>
  </section>
</main>
